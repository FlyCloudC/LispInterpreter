<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scheme语言指南</title>
    <link rel="stylesheet" href="note_style.css" />
    <script src="rend.js"></script>
</head>

<body>
    <h1>scheme语言指南</h1>
    <h3>一、值、组合式、表达式</h3>
    <p>
    <ul>
        <li><b>值</b>：数字、{#t}、{#f}</li>
        <li><b>组合式</b>：由一对括号包围的多个表达式组成，其中每个子表达式用空格隔开。
            例如：{(+ 2 3)}、{(> 2 1)}、{(square (+ 2 3))}。</li>
    </ul>
    值和组合式统称为<b>表达式</b>。
    </p>
    <h3>二、定义({define})</h3>
    <p>
    <ul>
        <li>
            {define}可以给一个<b>值</b>起名字，之后就可以使用名字表示它。<br />
            语法为：{(define [name] [x])}。例如：<br />
            {
            (define pi 3.14) ; 给 3.14 起名为 pi，之后就能用 pi 代表 3.14
            (* pi (* 10 10)) ; 计算半径为 10 的圆的面积，它相当于 (* 3.14 (* 10 10))
            (define C (* 2 pi 10)) ; 计算半径为 10 的圆的周长，起名为 C
            }
        </li>
        <li>
            {define}也可以给一个<b>过程</b>起名字，之后就可以使用名字调用它。例如：<br />
            {
            (define (square x) (* x x))
            (square 5) ; 相当于 (* 5 5)，得到 25
            }
        </li>
    </ul>
    </p>
    <h3>三、组合式的化简</h3>
    <p>
        每个<b>组合式</b>都能化简成一个<b>值</b>。<br />
    <ul>
        <li>组合式以{if}开头，形如{(if [a] [b] [c])}：
            <ol>
                <li>先化简{[a]}。</li>
                <li>
                    <ul style="list-style-type:disc">
                        <li>如果{[a]}化简成了{#t}，则{(if [a] [b] [c])}化简成{[b]}。</li>
                        <li>如果{[a]}化简成了{#f}，则{(if [a] [b] [c])}化简成{[c]}。</li>
                    </ul>
                </li>
            </ol>
        <li>组合式以其它符号开头，形如{([f] [x1] [x2] ... [xn])}：
            <ol>
                <li>先分别化简{[x1]}、{[x2]}、...、{[xn]}，化简结果记为{[v1]}、{[v2]}、...、{[vn]}</li>
                <li>
                <ul style="list-style-type:disc">
                    <li>如果{[f]}是语言自带的过程，例如+，-，*，/，则按照对应的规则计算。</li>
                    <li>如果{[f]}是先前定义的过程：
                        <ol>
                            <li>查看先前{[f]}的定义：{(define ([f] [a1] [a2] ... [an]) [body])}。 </li>
                            <li>将{[body]}中出现的{[a1]}、{[a2]}、...、{[an]}替换为{[v1]}、{[v2]}、...、{[vn]}，得到新的表达式{[body']}。
                            </li>
                            <li>{([f] [x1] [x2] ... [xn])}化简成{[body']}。</li>
                        </ol>
                    </li>
                </ul>
                </li>
            </ol>
        </li>
    </ul>
    <p>
        例1：<br />
        {
        (+ 2 3) ; 这是一个形如 ([f] [x1] [x2]) 的组合式
        ; [f] 为 +，[x1] 为 2，[x2] 为 3
        ; 2 和 3 已经是值了，不用再化简，所以 [v1] 为 2，[v2] 为 3
        ; + 是语言自带的过程，于是按照加法的规则计算，得到 5
        }<br />
        例2：<br />
        {
        (define (square x) (* x x)) ; 定义一个过程 square
        }
        {
        (square (+ 2 3)) ; 这是一个形如 ([f] [x1]) 的组合式
        ; [f] 为 square，[x1] 为 (+ 2 3)
        ; 先化简 (+ 2 3) ，具体过程如例1，得到 5, 记为 [v1]
        ; square 是先前定义的过程，于是先查看 square 的定义：
        ; (define (square x) (* x x))
        ; 这里 [a1] 为 x，[body] 为 (* x x)
        ; 将 [body] &nbsp;中出现的 [a1] 替换为 [v1]，得到新的表达式 [body']，也就是
        ; 将 (* x x) 中出现的 x &nbsp;&nbsp;&nbsp;替换为 5 &nbsp;&nbsp;，得到新的表达式 (* 5 5)
        ; 所以 (square (+ 2 3)) 化简成 (* 5 5)
        }
    </p>
    </p>
    <h3>附：scheme语言自带的过程</h3>
    <ul>
        <li>{+}、{-}、{*}、{/}：数字的加减乘除运算。</li>
        <li>{=}、{<}、{>}：数字的比较。如果成立，得到{#t}，否则得到{#f}。</li>
    </ul>
    还有更多，目前先介绍这些。
</body>

</html>
